(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(56)},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=a(4),i=a(5);var s=function(){return r.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"The Movie"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},"Movies"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("a",{className:"dropdown-item",href:"/"},"Movies"),r.a.createElement("a",{className:"dropdown-item",href:"/new"},"New Movie"))))))},u=a(9),m=a(7),p=a.n(m);var d=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){p.a.get("/api/movies").then(function(e){console.log("index result",e),l(e.data)}).catch(function(e){return console.error(e)})},[]),r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement("h1",null,"All Movies")),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Other"))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement(o.b,{to:"/".concat(e._id)},e.title)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.rating),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/".concat(e._id,"/edit")},"edit"),"|",r.a.createElement(o.b,{to:"/".concat(e._id,"/destroy")},"delete")))})))))};var E=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],c=a[1];return console.log("Show props",e),Object(n.useEffect)(function(){p.a.get("/api/movies/".concat(e.match.params.id)).then(function(e){console.log("show result",e),c(e.data)}).catch(function(e){return console.error(e)})},[e]),r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement("h1",null,"Title: ",l.title)),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Rating"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,l.description),r.a.createElement("td",null,l.price),r.a.createElement("td",null,l.rating))))))},b=a(10),f=Object(n.createContext)(),v=f.Provider,g=(f.Consumer,f);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var O=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],m=o[1],d=Object(n.useContext)(g).setNotification;function E(e){e.persist();var t=e.target,a=t.name,n=t.value;l(function(e){return console.log("inputs",e),e[a]=n,e})}return s?r.a.createElement(u.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement("h1",null,"New Movie")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p.a.post("/api/movies",{title:a.title,description:a.description,price:a.price,rating:a.rating}).then(function(e){d(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{status:"success",message:"The new movie has been created"})}),console.log(e),m(!0)}).catch(function(e){return console.log(e)})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{className:"form-control",name:"title",required:"required",onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{className:"form-control",name:"description",onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Price"),r.a.createElement("input",{className:"form-control",name:"price",onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Rating"),r.a.createElement("select",{className:"form-control",name:"rating",required:"required",onChange:E},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-dark",type:"submit"},"Submit")))))};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),m=s[0],d=s[1],E=Object(n.useContext)(g).setNotification;function f(e){e.persist();var t=e.target,a=t.name,n=t.value;c(function(e){return N({},e,Object(b.a)({},a,n))})}return console.log("edit props",e),Object(n.useEffect)(function(){p.a.get("/api/movies/".concat(e.match.params.id)).then(function(e){console.log("edit result",e),c(e.data),console.log("inputs",l)}).catch(function(e){return console.error(e)})},[e]),m?r.a.createElement(u.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement("h1",null," Edit Movie")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),p.a.post("/api/movies/update",{id:e.match.params.id,title:l.title,description:l.description,price:l.price,rating:l.rating}).then(function(e){E(function(e){return N({},e,{status:"success",message:"The movie data has been updated"})}),console.log(e),d(!0)}).catch(function(e){return console.error(e)})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{className:"form-control",name:"title",required:"required",onChange:f,defaultValue:l.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{className:"form-control",name:"description",onChange:f,value:l.description})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Price"),r.a.createElement("input",{className:"form-control",name:"price",onChange:f,defaultValue:l.price})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Rating"),r.a.createElement("select",{className:"form-control",name:"rating",required:"required",onChange:f,value:l.rating},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-dark",type:"submit"},"Submit")))))};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var P=function(e){var t=Object(n.useContext)(g).setNotification;return console.log("destroy props",e),Object(n.useEffect)(function(){p.a.post("/api/movies/destroy",{id:e.match.params.id}).then(function(e){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{status:"danger",message:"The movie has been erased"})})})},[e]),r.a.createElement(u.a,{to:"/"})};var S=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:d}),r.a.createElement(u.b,{exact:!0,path:"/new",component:O}),r.a.createElement(u.b,{exact:!0,path:"/:id",component:E}),r.a.createElement(u.b,{exact:!0,path:"/:id/edit",component:y}),r.a.createElement(u.b,{exact:!0,path:"/:id/destroy",component:P}))};var x=function(){var e=Object(n.useContext)(g).notification;return e.status?r.a.createElement("div",{className:"alert alert-".concat(e.status),style:{marginTop:"60px"}},e.message):null};c.a.render(r.a.createElement(o.a,null,r.a.createElement(function(){var e=Object(n.useState)({status:null,message:null}),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement(v,{value:{notification:a,setNotification:l}},r.a.createElement(s,null),r.a.createElement(x,null),r.a.createElement(S,null))},null)),document.querySelector("#root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.b0f1f877.chunk.js.map